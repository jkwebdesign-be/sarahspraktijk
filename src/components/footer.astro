---
interface NavLink {
  href: string;
  label: string;
}

interface SocialLink {
  href: string;
  icon: string;
  label: string;
}

interface Props {
  logoSrc: string;
  companyName: string;
  address: string;
  phone: string;
  navLinks: NavLink[];
  socialLinks: SocialLink[];
  copyrightText?: string;
  privacyPolicyLink?: string;
  backgroundColor?: string;
}

const {
  logoSrc,
  companyName,
  address,
  phone,
  navLinks,
  socialLinks,
  copyrightText = `Â© ${new Date().getFullYear()} ${companyName}. all rights reserved.`,
  privacyPolicyLink = '/privacy-policy',
  backgroundColor = 'var(--color-surface)'
} = Astro.props;
---

<footer class="footer" style={`background-color: ${backgroundColor};`}>
  <div class="footer__container">
    <div class="footer__main">
      <!-- left side: logo, contact, social -->
      <div class="footer__left">
        <div class="footer__brand">
          <img src={logoSrc} alt={companyName} class="footer__logo" />
          <span class="footer__company-name">{companyName}</span>
        </div>
        
        <div class="footer__contact">
          <p class="footer__contact-title">address:</p>
          <p class="footer__contact-text">{address}</p>
          
          <p class="footer__contact-title">gsm-nummer:</p>
          <p class="footer__contact-text">{phone}</p>
        </div>
        
        <div class="footer__social">
          {socialLinks.map((social) => (
            <a href={social.href} class="footer__social-link" aria-label={social.label} target="_blank" rel="noopener noreferrer">
              <img src={social.icon} alt={social.label} class="footer__social-icon" />
            </a>
          ))}
        </div>
      </div>
      
      <!-- right side: navigation -->
      <nav class="footer__nav">
        <ul class="footer__nav-list">
          {navLinks.map((link) => (
            <li>
              <a href={link.href} class="footer__nav-link">{link.label}</a>
            </li>
          ))}
        </ul>
      </nav>
    </div>
    
    <!-- bottom bar -->
    <div class="footer__bottom">
      <p class="footer__copyright">{copyrightText}</p>
      <a href={privacyPolicyLink} class="footer__privacy-link">privacy policy</a>
    </div>
  </div>
</footer>

<style>
  .footer {
    width: 100%;
    padding: var(--space-16) 0 var(--space-8) 0;
  }

  .footer__container {
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 0 var(--container-padding);
  }

  .footer__main {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: var(--space-16);
    margin-bottom: var(--space-12);
  }

  /* left side */
  .footer__left {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  .footer__brand {
    display: flex;
    align-items: center;
    gap: var(--space-4);
  }

  .footer__logo {
    height: 60px;
    width: auto;
  }

  .footer__company-name {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-inverse);
  }

  .footer__contact {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .footer__contact-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-inverse);
    margin: 0;
  }

  .footer__contact-text {
    font-size: var(--font-size-base);
    color: var(--color-text-inverse);
    margin: 0 0 var(--space-3) 0;
  }

  .footer__social {
    display: flex;
    gap: var(--space-4);
  }

  .footer__social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity var(--transition-base);
  }

  .footer__social-link:hover {
    opacity: 0.7;
  }

  .footer__social-icon {
    width: 24px;
    height: 24px;
    filter: brightness(0) invert(1);
  }

  /* right side - navigation (single column) */
  .footer__nav {
    display: flex;
    align-items: flex-start;
  }

  .footer__nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .footer__nav-link {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-inverse);
    text-decoration: none;
    transition: color var(--transition-base);
  }

  .footer__nav-link:hover {
    color: var(--color-primary);
  }

  /* bottom bar */
  .footer__bottom {
    padding-top: var(--space-8);
    border-top: 1px solid var(--color-text-inverse);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer__copyright {
    font-size: var(--font-size-sm);
    color: var(--color-text-inverse);
    margin: 0;
  }

  .footer__privacy-link {
    font-size: var(--font-size-sm);
    color: var(--color-text-inverse);
    text-decoration: none;
    transition: color var(--transition-base);
  }

  .footer__privacy-link:hover {
    color: var(--color-primary);
  }

  /* responsive */
  @media (max-width: 768px) {
    .footer__main {
      grid-template-columns: 1fr;
      gap: var(--space-12);
    }

    .footer__bottom {
      flex-direction: column;
      gap: var(--space-4);
      text-align: center;
    }
  }
</style>